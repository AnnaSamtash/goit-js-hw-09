{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst messageOfInput = form.elements.message;\nconst emailOfInput = form.elements.email;\nconst localStorageKey = 'feedback-form-state';\n\nconst dataFromLocalStorage = localStorage.getItem(localStorageKey) ?? '';\nif (dataFromLocalStorage) {\n  const { email = '', message = '' } = JSON.parse(dataFromLocalStorage);\n  if (message) {\n    messageOfInput.value = message;\n  }\n  if (email) {\n    emailOfInput.value = email;\n  }\n}\n\nform.addEventListener('input', saveData);\nform.addEventListener('submit', uploadData);\n\nfunction saveData() {\n  if (emailOfInput.value !== \"\" && messageOfInput.value !== \"\") {\n    const dataOfInput = {\n      email: emailOfInput.value,\n      message: messageOfInput.value,\n    };\n    const trimedDataOfInput = trimValues(dataOfInput);\n    localStorage.setItem(localStorageKey, JSON.stringify(trimedDataOfInput));\n  }\n}\n\nfunction trimValues(obj) {\n  for (let key in obj) {\n    obj[key] = obj[key].trim();\n  }\n  return obj;\n}\n\nfunction uploadData(evt) {\n  evt.preventDefault();\n  if (emailOfInput.value === \"\" || messageOfInput.value === \"\") {\n    alert(\"Download all input fields\");\n    return;\n  }\n  console.log({\n    email: evt.target.elements.email.value,\n    message: evt.target.elements.message.value,\n  });\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n}\n\n"],"names":["form","messageOfInput","emailOfInput","localStorageKey","dataFromLocalStorage","email","message","saveData","uploadData","dataOfInput","trimedDataOfInput","trimValues","obj","key","evt"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAiBD,EAAK,SAAS,QAC/BE,EAAeF,EAAK,SAAS,MAC7BG,EAAkB,sBAElBC,EAAuB,aAAa,QAAQD,CAAe,GAAK,GACtE,GAAIC,EAAsB,CACxB,KAAM,CAAE,MAAAC,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAK,KAAK,MAAMF,CAAoB,EAChEE,IACFL,EAAe,MAAQK,GAErBD,IACFH,EAAa,MAAQG,EAEzB,CAEAL,EAAK,iBAAiB,QAASO,CAAQ,EACvCP,EAAK,iBAAiB,SAAUQ,CAAU,EAE1C,SAASD,GAAW,CAClB,GAAIL,EAAa,QAAU,IAAMD,EAAe,QAAU,GAAI,CAC5D,MAAMQ,EAAc,CAClB,MAAOP,EAAa,MACpB,QAASD,EAAe,KAC9B,EACUS,EAAoBC,EAAWF,CAAW,EAChD,aAAa,QAAQN,EAAiB,KAAK,UAAUO,CAAiB,CAAC,CACxE,CACH,CAEA,SAASC,EAAWC,EAAK,CACvB,QAASC,KAAOD,EACdA,EAAIC,CAAG,EAAID,EAAIC,CAAG,EAAE,KAAI,EAE1B,OAAOD,CACT,CAEA,SAASJ,EAAWM,EAAK,CAEvB,GADAA,EAAI,eAAc,EACdZ,EAAa,QAAU,IAAMD,EAAe,QAAU,GAAI,CAC5D,MAAM,2BAA2B,EACjC,MACD,CACD,QAAQ,IAAI,CACV,MAAOa,EAAI,OAAO,SAAS,MAAM,MACjC,QAASA,EAAI,OAAO,SAAS,QAAQ,KACzC,CAAG,EACD,aAAa,WAAWX,CAAe,EACvCH,EAAK,MAAK,CACZ"}